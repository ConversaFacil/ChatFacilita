<html><head><base href="https://www.painel-moderno.com.br/"><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Painel de Inscrições e Vagas por Área</title><script src="https://cdn.jsdelivr.net/npm/chart.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script><script src="https://cdn.jsdelivr.net/npm/heatmap.js@2.0.5/build/heatmap.min.js"></script><link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet"><script type="module">
  import Typebot from 'https://cdn.jsdelivr.net/npm/@typebot.io/js@0.3.4/dist/web.js'




  Typebot.initBubble({
    typebot: "catch",
    apiHost: "https://viewer.2n4p3z.easypanel.host",
    previewMessage: {
      message: "Olá, sou o assistente do Catch !",
      autoShowDelay: 2000,
      avatarUrl:
        "https://storage.torrenet-typebot-minio.2n4p3z.easypanel.host/typebot/public/workspaces/clyh4ortp001ucrt7ruytioax/typebots/cm0b8eebk000j4opwrwwrqf5b/hostAvatar?v=1724695833266",
    },
    theme: {
      button: { backgroundColor: "#D27A7D" },
      chatWindow: {
        backgroundColor:
          "https://builder.2n4p3z.easypanel.host/images/backgrounds/brightRain.jpeg",
      },
    },
  });
</script><style>
    :root {
        --primary-color: #6C5CE7;
        --secondary-color: #FAF9F9;
        --accent-color: #FF7675;
        --text-color: #2D3436;
        --bg-color: #F0F3F8;
        --base-font-size: 16px;
    }
    body, html {
        margin: 0;
        padding: 0;
        font-family: 'Poppins', sans-serif;
        background-color: var(--bg-color);
        color: var(--text-color);
        height: 100%;
        font-size: var(--base-font-size);
        overflow: hidden;
    }
    .container {
        display: flex;
        height: 100vh;
        width: 100vw;
    }
    .sidebar {
        width: 250px;
        background-color: var(--primary-color);
        color: var(--secondary-color);
        padding: 30px;
        box-shadow: 4px 0 10px rgba(0,0,0,0.1);
        transition: all 0.3s ease;
        height: 100vh;
        overflow-y: auto;
        display: flex;
        flex-direction: column;
    }
    .main-content {
        flex-grow: 1;
        padding: 30px;
        overflow-y: auto;
        height: 100vh;
        position: relative;
    }
    .user-info {
        text-align: center;
        margin-bottom: 40px;
    }
    .logo-container {
        width: 200px;
        height: 100px;
        margin: 0 auto 15px;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    .logo {
        max-width: 100%;
        max-height: 100%;
    }
    .user-photo-container {
        width: 100px;
        height: 100px;
        margin: 20px auto 10px;
        border-radius: 50%;
        overflow: hidden;
        border: 3px solid var(--secondary-color);
    }
    .user-photo {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }
    .user-name {
        font-size: 1.1rem;
        font-weight: 600;
        margin-top: 10px;
        color: var(--secondary-color);
    }
    .menu-item {
        padding: 15px;
        cursor: pointer;
        transition: all 0.3s ease;
        border-radius: 10px;
        margin-bottom: 10px;
        display: flex;
        align-items: center;
        font-size: 1rem;
    }
    .menu-item i {
        margin-right: 15px;
        width: 20px;
    }
    .menu-item:hover, .menu-item.active {
        background-color: rgba(255,255,255,0.2);
        transform: translateX(5px);
    }
    .dashboard-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 30px;
    }
    .dashboard-item {
        background-color: var(--secondary-color);
        border-radius: 15px;
        padding: 25px;
        box-shadow: 0 10px 20px rgba(0,0,0,0.05);
        transition: all 0.3s ease;
    }
    .dashboard-item:hover {
        transform: translateY(-5px);
        box-shadow: 0 15px 30px rgba(0,0,0,0.1);
    }
    .chart-container {
        height: 250px;
        margin-top: 20px;
    }
    .progress-circle {
        width: 200px;
        height: 200px;
        margin: 0 auto;
    }
    h1 {
        font-size: 2rem;
    }
    h3 {
        margin-top: 0;
        color: var(--primary-color);
        font-weight: 600;
        font-size: 1.25rem;
    }
    .stats-container {
        display: flex;
        justify-content: space-between;
        margin-top: 20px;
    }
    .stat-item {
        text-align: center;
    }
    .stat-value {
        font-size: 1.5rem;
        font-weight: 600;
        color: var(--accent-color);
    }
    .stat-label {
        font-size: 0.875rem;
        color: #7f8c8d;
    }
    .profession-block {
        background-color: var(--secondary-color);
        border-radius: 15px;
        padding: 25px;
        margin-bottom: 20px;
        box-shadow: 0 10px 20px rgba(0,0,0,0.05);
        position: relative;
        overflow: hidden;
    }
    .profession-block h4 {
        margin-top: 0;
        color: var(--primary-color);
        font-size: 1.125rem;
    }
    .profession-block p {
        font-size: 1.125rem;
        font-weight: 600;
        margin-bottom: 0;
    }
    .profession-icon {
        position: absolute;
        right: 20px;
        bottom: 20px;
        font-size: 3rem;
        opacity: 0.2;
        color: var(--primary-color);
    }

    /* Responsividade */
    @media screen and (max-width: 1024px) {
        :root {
            --base-font-size: 14px;
        }
        .container {
            flex-direction: column;
        }
        .sidebar {
            width: 100%;
            padding: 20px;
            position: fixed;
            height: 100%;
            left: -100%;
            top: 0;
            z-index: 1000;
            transition: 0.3s;
        }
        .sidebar.active {
            left: 0;
        }
        .main-content {
            padding: 20px;
            margin-left: 0;
            width: 100%;
            box-sizing: border-box;
        }
        .dashboard-grid {
            grid-template-columns: 1fr;
        }
    }

    @media screen and (max-width: 768px) {
        :root {
            --base-font-size: 12px;
        }
        .stats-container {
            flex-direction: column;
        }
        .stat-item {
            margin-bottom: 15px;
        }
        .progress-circle {
            width: 150px;
            height: 150px;
        }
        .main-content {
            padding: 15px;
        }
        .dashboard-item {
            padding: 20px;
        }
    }

    @media screen and (max-width: 480px) {
        :root {
            --base-font-size: 10px;
        }
        .menu-item {
            padding: 10px;
        }
        .dashboard-item {
            padding: 15px;
        }
        h1 {
            font-size: 1.75rem;
        }
        h3 {
            font-size: 1.125rem;
        }
        .stat-value {
            font-size: 1.25rem;
        }
        .stat-label {
            font-size: 0.75rem;
        }
        .main-content {
            padding: 10px;
        }
    }

    /* Menu hamburguer para dispositivos móveis */
    .menu-toggle {
        display: none;
        cursor: pointer;
        font-size: 1.5rem;
        position: fixed;
        top: 15px;
        right: 15px;
        z-index: 1001;
        color: var(--primary-color);
        background-color: var(--secondary-color);
        padding: 5px 10px;
        border-radius: 5px;
    }

    @media screen and (max-width: 1024px) {
        .menu-toggle {
            display: block;
        }
        .sidebar {
            transform: translateX(-100%);
            width: 0;
            overflow: hidden;
        }
        .sidebar.active {
            transform: translateX(0);
            width: 100%;
        }
        .main-content {
            width: 100%;
            padding-top: 60px; /* Espaço para o botão do menu */
        }
    }

    /* Novo estilo para o logo central */
    .central-logo-container {
        text-align: center;
        margin-bottom: 20px;
    }
    .central-logo {
        max-width: 200px;
        max-height: 100px;
    }

    /* Estilo atualizado para o mapa de calor */
    .heatmap-container {
        background-color: var(--secondary-color);
        border-radius: 15px;
        padding: 25px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        position: relative;
        overflow: hidden;
    }

    #heatmap {
        width: 100%;
        height: 400px;
        border-radius: 10px;
        overflow: hidden;
        position: relative;
        background-color: #f0f4f8;
    }

    .heatmap-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(45deg, rgba(108, 92, 231, 0.1), rgba(255, 118, 117, 0.1));
        pointer-events: none;
    }

    .neighborhood {
        position: absolute;
        font-size: 12px;
        font-weight: bold;
        color: var(--text-color);
        background-color: rgba(255, 255, 255, 0.8);
        padding: 5px 10px;
        border-radius: 15px;
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        transition: all 0.3s ease;
    }

    .neighborhood:hover {
        transform: scale(1.1);
        box-shadow: 0 5px 15px rgba(0,0,0,0.2);
    }

    .heatmap-legend {
        display: flex;
        justify-content: space-between;
        margin-top: 15px;
        padding: 10px;
        background-color: rgba(255,255,255,0.9);
        border-radius: 8px;
        box-shadow: 0 2px 5px rgba(0,0,0,0.05);
    }

    .legend-item {
        display: flex;
        align-items: center;
    }

    .legend-color {
        width: 20px;
        height: 20px;
        margin-right: 8px;
        border-radius: 4px;
    }

    .legend-label {
        font-size: 12px;
        color: var(--text-color);
    }

    /* Novos estilos para os ícones de ação */
    .action-icons {
        display: flex;
        justify-content: flex-end;
        position: absolute;
        top: 20px;
        left: 20px;
        z-index: 1000;
    }
    .action-icon {
        font-size: 1.5rem;
        color: var(--primary-color);
        margin-left: 15px;
        cursor: pointer;
        transition: all 0.3s ease;
    }
    .action-icon:hover {
        transform: scale(1.2);
    }

    /* Estilos para o novo bloco de sub-áreas de construção civil */
    .construction-subareas {
        background-color: var(--secondary-color);
        border-radius: 15px;
        padding: 25px;
        box-shadow: 0 10px 20px rgba(0,0,0,0.05);
    }
    .subarea-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 15px;
        padding: 10px;
        background-color: #f8f9fa;
        border-radius: 8px;
        transition: all 0.3s ease;
    }
    .subarea-item:hover {
        background-color: #e9ecef;
    }
    .subarea-name {
        font-weight: 600;
        color: var(--primary-color);
    }
    .subarea-percentage {
        font-weight: 700;
        color: var(--accent-color);
    }
    .subarea-bar {
        height: 8px;
        background-color: #e9ecef;
        border-radius: 4px;
        overflow: hidden;
        margin-top: 5px;
    }
    .subarea-bar-fill {
        height: 100%;
        background-color: var(--primary-color);
        border-radius: 4px;
    }

    /* Estilo para a barra de rolagem fina e discreta */
    .main-content::-webkit-scrollbar {
        width: 8px;
    }

    .main-content::-webkit-scrollbar-track {
        background: #f1f1f1;
    }

    .main-content::-webkit-scrollbar-thumb {
        background: #888;
        border-radius: 4px;
    }

    .main-content::-webkit-scrollbar-thumb:hover {
        background: #555;
    }

    /* Novo estilo para a barra de rolagem lateral direita */
    .main-content {
        overflow-y: scroll;
        scrollbar-width: thin;
        scrollbar-color: #888 #f1f1f1;
    }

    .main-content::-webkit-scrollbar {
        width: 8px;
    }

    .main-content::-webkit-scrollbar-track {
        background: #f1f1f1;
    }

    .main-content::-webkit-scrollbar-thumb {
        background-color: #888;
        border-radius: 4px;
        border: 2px solid #f1f1f1;
    }

    .main-content::-webkit-scrollbar-thumb:hover {
        background-color: #555;
    }

    /* Novo estilo para o select e ícone de lupa */
    .search-container {
        display: flex;
        justify-content: center;
        align-items: center;
        margin-bottom: 20px;
        padding: 10px;
        background-color: var(--secondary-color);
        border-radius: 10px;
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }

    .search-select {
        padding: 10px;
        font-size: 16px;
        border: 1px solid #ddd;
        border-radius: 5px 0 0 5px;
        outline: none;
        background-color: white;
        color: var(--text-color);
    }

    .search-button {
        padding: 10px 15px;
        background-color: var(--primary-color);
        color: white;
        border: none;
        border-radius: 0 5px 5px 0;
        cursor: pointer;
        transition: background-color 0.3s ease;
    }

    .search-button:hover {
        background-color: #5649c0;
    }

    .fa-search {
        font-size: 18px;
    }
</style></head><body>
    <div class="menu-toggle" id="menuToggle">
        <i class="fas fa-bars"></i>
    </div>
    
    <div class="container">
        <div class="sidebar" id="sidebar">
            <div class="user-info">
                <div class="logo-container">
                    <img src="https://catch.inf.br/assets/img/logomarca.webp" alt="Logo CATCH" class="logo">
                </div>
                <div class="user-photo-container">
                    <img src="https://catch.inf.br/assets/img/team/eraldo.jpg" alt="Foto do usuário" class="user-photo">
                </div>
                <div class="user-name">Eraldo Guerra<br>
				CEO</br></div>
            </div>
            <div class="menu-item active">
                <i class="fas fa-home"></i> Painel
            </div>
            <div class="menu-item">
                <i class="fas fa-chart-line"></i> Análises
            </div>
            <div class="menu-item">
                <i class="fas fa-tasks"></i> Projetos
            </div>
            <div class="menu-item">
                <i class="fas fa-comments"></i> Mensagens
            </div>
            <div class="menu-item">
                <i class="fas fa-cog"></i> Configurações
            </div>
        </div>
        <div class="main-content"><br>
            <div class="search-container">
                <select class="search-select" id="searchOptions">
                    <option value="">Selecione uma opção de busca</option>
                    <option value="region">Buscar por região</option>
                    <option value="program">Buscar por programa</option>
                    <option value="skill">Buscar por habilidade</option>
                </select>
                <button class="search-button" onclick="performSearch()">
                    <i class="fas fa-search"></i>
                </button>
            </div>
            <div class="action-icons">
                <i class="fas fa-share-alt action-icon" title="Compartilhar"></i>
                <i class="fas fa-cloud-upload-alt action-icon" title="Salvar na nuvem"></i>
                <i class="fas fa-print action-icon" title="Imprimir relatório"></i>
            </div>
            <div class="central-logo-container">
                <img src="https://esigportal2.recife.pe.gov.br/portal/sharing/rest/content/items/0f015a09876847ce82ba672cc9952fa7/resources/inConfig/8273590207298072.png" alt="Logo CATCH" class="central-logo">
            </div>
            <h1>Bem-vindo ao Painel de Inscrições e Vagas!</h1>
            
            <div class="dashboard-grid">
                <div class="dashboard-item">
                    <h3>Inscrições por Área</h3>
                    <div class="profession-block">
                        <h4>Construção Civil</h4>
                        <p id="constructionValue">415 inscrições</p>
                        <i class="fas fa-hard-hat profession-icon"></i>
                    </div>
                    <div class="profession-block">
                        <h4>Mecânica</h4>
                        <p id="mechanicsValue">344 inscrições</p>
                        <i class="fas fa-wrench profession-icon"></i>
                    </div>
                    <div class="profession-block">
                        <h4>Comércio</h4>
                        <p id="commerceValue">415 inscrições</p>
                        <i class="fas fa-store profession-icon"></i>
                    </div>
                    <div class="profession-block">
                        <h4>Aulas</h4>
                        <p id="classesValue">359 inscrições</p>
                        <i class="fas fa-chalkboard-teacher profession-icon"></i>
                    </div>
                </div>
                
                <div class="dashboard-item">
                    <h3>Distribuição Total de Inscrições</h3>
                    <div class="progress-circle">
                        <canvas id="totalDistributionChart"></canvas>
                    </div>
                    <div class="stats-container">
                        <div class="stat-item">
                            <div class="stat-value" id="totalInscriptions">1533</div>
                            <div class="stat-label">Total de Inscrições</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="growthRate">15.23%</div>
                            <div class="stat-label">Taxa de Crescimento</div>
                        </div>
                    </div>
                </div>
                
                <div class="dashboard-item">
                    <h3>Oportunidades de Vagas por Área e Bairros</h3>
                    <div class="chart-container">
                        <canvas id="jobOpportunitiesChart"></canvas>
                    </div>
                </div>
                
                <div class="dashboard-item">
                    <h3>Métricas de Desempenho</h3>
                    <div class="chart-container">
                        <canvas id="performanceMetricsChart"></canvas>
                    </div>
                </div>

                <div class="dashboard-item heatmap-container">
                    <h3>Mapa de Calor - Distribuição por Bairro</h3>
                    <div id="heatmap">
                        <div class="heatmap-overlay"></div>
                    </div>
                    <div class="heatmap-legend">
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: rgba(108, 92, 231, 0.3);"></div>
                            <span class="legend-label">Baixa</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: rgba(108, 92, 231, 0.6);"></div>
                            <span class="legend-label">Média</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: rgba(108, 92, 231, 0.9);"></div>
                            <span class="legend-label">Alta</span>
                        </div>
                    </div>
                </div>

                <div class="dashboard-item construction-subareas">
                    <h3>Demanda por Sub-áreas da Construção Civil</h3>
                    <div class="subarea-item">
                        <span class="subarea-name">Pedreiro</span>
                        <span class="subarea-percentage" id="pedreiroPercentage">45%</span>
                    </div>
                    <div class="subarea-bar">
                        <div class="subarea-bar-fill" id="pedreiroBar" style="width: 45%;"></div>
                    </div>
                    <div class="subarea-item">
                        <span class="subarea-name">Pintor</span>
                        <span class="subarea-percentage" id="pintorPercentage">30%</span>
                    </div>
                    <div class="subarea-bar">
                        <div class="subarea-bar-fill" id="pintorBar" style="width: 30%;"></div>
                    </div>
                    <div class="subarea-item">
                        <span class="subarea-name">Eletricista</span>
                        <span class="subarea-percentage" id="eletricistaPercentage">25%</span>
                    </div>
                    <div class="subarea-bar">
                        <div class="subarea-bar-fill" id="eletricistaBar" style="width: 25%;"></div>
                    </div>
                </div>

                <div class="dashboard-item">
                    <h3>Evolução Mensal de Inscrições</h3>
                    <div class="chart-container">
                        <canvas id="monthlyEvolutionChart"></canvas>
                    </div>
                </div>

                <div class="dashboard-item">
                    <h3>Taxa de Conversão: Inscrições para Vagas Preenchidas</h3>
                    <div class="chart-container">
                        <canvas id="conversionRateChart"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </div>

<script>
    // Funcionalidade do menu hamburguer
    const menuToggle = document.getElementById('menuToggle');
    const sidebar = document.getElementById('sidebar');
    const mainContent = document.querySelector('.main-content');

    function toggleSidebar() {
        sidebar.classList.toggle('active');
    }

    menuToggle.addEventListener('click', toggleSidebar);

    // Fechar o menu ao clicar fora dele
    document.addEventListener('click', (event) => {
        const isClickInsideMenu = sidebar.contains(event.target) || menuToggle.contains(event.target);
        if (!isClickInsideMenu && sidebar.classList.contains('active')) {
            toggleSidebar();
        }
    });

    // Ajustar layout para dispositivos móveis
    function adjustLayoutForMobile() {
        if (window.innerWidth <= 1024) {
            sidebar.classList.remove('active');
            menuToggle.style.display = 'block';
        } else {
            sidebar.classList.remove('active');
            menuToggle.style.display = 'none';
        }
    }

    window.addEventListener('resize', adjustLayoutForMobile);
    adjustLayoutForMobile(); // Chamada inicial

    // Ajustar gráficos para responsividade
    function resizeCharts() {
        const charts = [totalDistributionChart, jobOpportunitiesChart, performanceMetricsChart, monthlyEvolutionChart, conversionRateChart];
        charts.forEach(chart => {
            if (chart) {
                chart.resize();
            }
        });
    }

    window.addEventListener('resize', resizeCharts);

    // Configurações comuns para os gráficos
    const commonOptions = {
        responsive: true,
        maintainAspectRatio: false,
        animation: {
            duration: 1000,
            easing: 'easeInOutQuart'
        },
        plugins: {
            legend: {
                display: true,
                position: 'bottom'
            }
        },
        scales: {
            x: {
                grid: {
                    display: false
                }
            },
            y: {
                grid: {
                    color: 'rgba(0,0,0,0.05)'
                },
                beginAtZero: true
            }
        }
    };

    const createGradient = (ctx, color) => {
        const gradient = ctx.createLinearGradient(0, 0, 0, 400);
        gradient.addColorStop(0, color);
        gradient.addColorStop(1, 'rgba(255,255,255,0)');
        return gradient;
    };

    const months = ['Jan', 'Fev', 'Mar', 'Abr', 'Mai', 'Jun'];

    // Dados iniciais
    let constructionData = [415, 430, 445, 460, 475, 490];
    let mechanicsData = [344, 355, 366, 377, 388, 399];
    let commerceData = [415, 425, 435, 445, 455, 465];
    let classesData = [359, 370, 381, 392, 403, 414];

    // Função para atualizar valores nos blocos de profissão
    function updateProfessionBlocks() {
        document.getElementById('constructionValue').textContent = `${constructionData[constructionData.length - 1]} inscrições`;
        document.getElementById('mechanicsValue').textContent = `${mechanicsData[mechanicsData.length - 1]} inscrições`;
        document.getElementById('commerceValue').textContent = `${commerceData[commerceData.length - 1]} inscrições`;
        document.getElementById('classesValue').textContent = `${classesData[classesData.length - 1]} inscrições`;
    }

    // Gráfico de Distribuição Total
    const totalDistributionCtx = document.getElementById('totalDistributionChart').getContext('2d');
    const totalDistributionChart = new Chart(totalDistributionCtx, {
        type: 'doughnut',
        data: {
            labels: ['Construção Civil', 'Mecânica', 'Comércio', 'Aulas'],
            datasets: [{
                data: [415, 344, 415, 359],
                backgroundColor: ['#6C5CE7', '#FF7675', '#00B894', '#FDCB6E']
            }]
        },
        options: {
            ...commonOptions,
            cutout: '80%'
        }
    });

    // Gráfico de Oportunidades de Vagas
    const jobOpportunitiesCtx = document.getElementById('jobOpportunitiesChart').getContext('2d');
    const jobOpportunitiesChart = new Chart(jobOpportunitiesCtx, {
        type: 'bar',
        data: {
            labels: ['Construção Civil', 'Mecânica', 'Comércio', 'Aulas'],
            datasets: [
                {
                    label: 'Vagas por Área',
                    data: [415, 344, 415, 359],
                    backgroundColor: '#6C5CE7'
                },
                {
                    label: 'Vagas por Bairros',
                    data: [200, 150, 180, 220, 190],
                    backgroundColor: '#FF7675'
                }
            ]
        },
        options: {
            ...commonOptions,
            scales: {
                x: {
                    stacked: true
                },
                y: {
                    stacked: true,
                    beginAtZero: true
                }
            }
        }
    });

    // Gráfico de Métricas de Desempenho
    const performanceMetricsCtx = document.getElementById('performanceMetricsChart').getContext('2d');
    const performanceMetricsChart = new Chart(performanceMetricsCtx, {
        type: 'line',
        data: {
            labels: months,
            datasets: [{
                label: 'Taxa de Conversão (%)',
                data: [5, 8, 12, 15, 20, 25],
                borderColor: '#6C5CE7',
                backgroundColor: createGradient(performanceMetricsCtx, 'rgba(108, 92, 231, 0.2)'),
                fill: true
            }, {
                label: 'Tempo Médio de Contratação (dias)',
                data: [30, 28, 25, 22, 20, 18],
                borderColor: '#FF7675',
                backgroundColor: createGradient(performanceMetricsCtx, 'rgba(255, 118, 117, 0.2)'),
                fill: true
            }]
        },
        options: commonOptions
    });

    // Gráfico de Evolução Mensal
    const monthlyEvolutionCtx = document.getElementById('monthlyEvolutionChart').getContext('2d');
    const monthlyEvolutionChart = new Chart(monthlyEvolutionCtx, {
        type: 'line',
        data: {
            labels: months,
            datasets: [{
                label: 'Construção Civil',
                data: constructionData,
                borderColor: '#6C5CE7',
                backgroundColor: createGradient(monthlyEvolutionCtx, 'rgba(108, 92, 231, 0.2)'),
                fill: true
            }, {
                label: 'Mecânica',
                data: mechanicsData,
                borderColor: '#FF7675',
                backgroundColor: createGradient(monthlyEvolutionCtx, 'rgba(255, 118, 117, 0.2)'),
                fill: true
            }, {
                label: 'Comércio',
                data: commerceData,
                borderColor: '#00B894',
                backgroundColor: createGradient(monthlyEvolutionCtx, 'rgba(0, 184, 148, 0.2)'),
                fill: true
            }, {
                label: 'Aulas',
                data: classesData,
                borderColor: '#FDCB6E',
                backgroundColor: createGradient(monthlyEvolutionCtx, 'rgba(253, 203, 110, 0.2)'),
                fill: true
            }]
        },
        options: commonOptions
    });

    // Gráfico de Taxa de Conversão
    const conversionRateCtx = document.getElementById('conversionRateChart').getContext('2d');
    const conversionRateChart = new Chart(conversionRateCtx, {
        type: 'line',
        data: {
            labels: months,
            datasets: [{
                label: 'Taxa de Conversão (%)',
                data: [10, 12, 15, 18, 22, 25],
                borderColor: '#6C5CE7',
                backgroundColor: createGradient(conversionRateCtx, 'rgba(108, 92, 231, 0.2)'),
                fill: true
            }]
        },
        options: {
            ...commonOptions,
            scales: {
                y: {
                    beginAtZero: true,
                    max: 100,
                    ticks: {
                        callback: function(value) {
                            return value + '%';
                        }
                    }
                }
            }
        }
    });

    // Inicialização do mapa de calor
    const heatmapContainer = document.getElementById('heatmap');
    const heatmapInstance = h337.create({
        container: heatmapContainer,
        radius: 50,
        maxOpacity: 0.6,
        minOpacity: 0.1,
        blur: 0.75,
        gradient: {
            '.5': 'blue',
            '.8': 'red',
            '.95': 'white'
        }
    });

    const generateHeatmapData = () => {
        const width = heatmapContainer.offsetWidth;
        const height = heatmapContainer.offsetHeight;
        const points = [];
        const max = 100;
        const neighborhoods = [
            { name: 'Centro', x: width * 0.5, y: height * 0.5 },
            { name: 'Boa Viagem', x: width * 0.8, y: height * 0.7 },
            { name: 'Olinda', x: width * 0.3, y: height * 0.2 },
            { name: 'Jaboatão', x: width * 0.7, y: height * 0.8 }
        ];

        neighborhoods.forEach(neighborhood => {
            const value = Math.floor(Math.random() * max);
            points.push({
                x: neighborhood.x,
                y: neighborhood.y,
                value: value
            });

            const neighborhoodLabel = document.createElement('div');
            neighborhoodLabel.className = 'neighborhood';
            neighborhoodLabel.textContent = `${neighborhood.name}: ${value}`;
            neighborhoodLabel.style.left = `${neighborhood.x}px`;
            neighborhoodLabel.style.top = `${neighborhood.y}px`;
            heatmapContainer.appendChild(neighborhoodLabel);
        });

        return {
            max: max,
            data: points
        };
    };

    heatmapInstance.setData(generateHeatmapData());

    // Atualização dinâmica dos dados
    function updateData() {
        // Atualizar dados de inscrições
        constructionData.push(constructionData[constructionData.length - 1] + Math.floor(Math.random() * 20) - 5);
        mechanicsData.push(mechanicsData[mechanicsData.length - 1] + Math.floor(Math.random() * 15) - 5);
        commerceData.push(commerceData[commerceData.length - 1] + Math.floor(Math.random() * 15) - 5);
        classesData.push(classesData[classesData.length - 1] + Math.floor(Math.random() * 15) - 5);

        if (constructionData.length > 6) {
            constructionData.shift();
            mechanicsData.shift();
            commerceData.shift();
            classesData.shift();
        }

        // Atualizar gráficos
        monthlyEvolutionChart.data.datasets[0].data = constructionData;
        monthlyEvolutionChart.data.datasets[1].data = mechanicsData;
        monthlyEvolutionChart.data.datasets[2].data = commerceData;
        monthlyEvolutionChart.data.datasets[3].data = classesData;
        monthlyEvolutionChart.update();

        totalDistributionChart.data.datasets[0].data = [
            constructionData[constructionData.length - 1],
            mechanicsData[mechanicsData.length - 1],
            commerceData[commerceData.length - 1],
            classesData[classesData.length - 1]
        ];
        totalDistributionChart.update();

        updateProfessionBlocks();

        // Atualizar estatísticas
        const totalInscriptions = constructionData[constructionData.length - 1] +
                                  mechanicsData[mechanicsData.length - 1] +
                                  commerceData[commerceData.length - 1] +
                                  classesData[classesData.length - 1];
        
        document.getElementById('totalInscriptions').textContent = totalInscriptions;

        const growthRate = ((totalInscriptions / 1533 - 1) * 100).toFixed(2);
        document.getElementById('growthRate').textContent = `${growthRate}%`;

        // Atualizar sub-áreas da construção civil
        const updateSubarea = (id, percentage) => {
            document.getElementById(`${id}Percentage`).textContent = `${percentage}%`;
            document.getElementById(`${id}Bar`).style.width = `${percentage}%`;
        };

        updateSubarea('pedreiro', 45 + Math.floor(Math.random() * 10) - 5);
        updateSubarea('pintor', 30 + Math.floor(Math.random() * 10) - 5);
        updateSubarea('eletricista', 25 + Math.floor(Math.random() * 10) - 5);

        // Atualizar mapa de calor
        heatmapInstance.setData(generateHeatmapData());
    }

    // Atualizar dados a cada 5 segundos
    setInterval(updateData, 5000);

    // Função para realizar a busca
    function performSearch() {
        const searchOption = document.getElementById('searchOptions').value;
        if (searchOption) {
            alert(`Realizando busca por: ${searchOption}`);
            // Aqui você pode implementar a lógica de busca real
        } else {
            alert('Por favor, selecione uma opção de busca.');
        }
    }
</script>
</body></html>